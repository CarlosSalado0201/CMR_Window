<style>
  /* üîª Mismos estilos existentes para barra, formulario y botones */
  :host {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial,
      sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
    font-size: 14px;
    color: #333;
    box-sizing: border-box;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  .toolbar {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    height: 100px;
    display: flex;
    align-items: center;
    background-color: #dc3545;
    color: white;
    font-weight: 600;
    padding: 0 24px;
    box-sizing: border-box;
    z-index: 1000;
  }

  .toolbar img {
    height: 80px;
    width: auto;
    user-select: none;
    margin-right: 20px;
  }

  .toolbar button {
    background-color: white;
    color: #dc3545;
    border: none;
    padding: 10px 16px;
    border-radius: 4px;
    cursor: pointer;
    font-weight: 600;
    transition: background-color 0.3s ease;
    font-size: 1rem;
    white-space: normal;
    max-width: 120px;
    line-height: 1.2;
    margin-right: 10px;
  }

  .toolbar button:hover {
    background-color: #f8d7da;
  }

  .content {
    margin-top: 120px;
    padding: 0 24px;
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  .report-form {
    width: 100%;
    max-width: 700px;
    background: #fff;
    padding: 30px;
    border-radius: 8px;
    box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
  }

  .report-form h2 {
    color: #dc3545;
    margin-bottom: 20px;
    text-align: center;
  }

  .report-form label {
    font-weight: 600;
    margin-top: 10px;
    display: block;
  }

  .report-form input[type="text"],
  .report-form textarea,
  .report-form input[type="file"] {
    width: 100%;
    margin-top: 6px;
    margin-bottom: 16px;
    padding: 10px;
    border-radius: 4px;
    border: 1px solid #ccc;
    font-size: 14px;
    box-sizing: border-box;
  }

  .signature-buttons button,
  .submit-button,
  .pdf-link-layer button,
  .pdf-link-layer a {
    background-color: white;
    color: #dc3545;
    border: none;
    padding: 10px 16px;
    border-radius: 4px;
    cursor: pointer;
    font-weight: 600;
    transition: background-color 0.3s ease;
    font-size: 1rem;
    line-height: 1.2;
    margin-right: 10px;
    text-decoration: none;
  }

  .signature-buttons button:hover,
  .submit-button:hover,
  .pdf-link-layer button:hover,
  .pdf-link-layer a:hover {
    background-color: #f8d7da;
  }

  .signature-buttons {
    margin-top: 10px;
    display: flex;
    gap: 10px;
  }

  .submit-button {
    display: block;
    margin: 30px auto 0;
  }

  /* üîª LAYER FIJO DEL LINK PDF */
  .pdf-link-layer {
    margin-top: 20px;
    width: 100%;
    max-width: 700px;
    background: #fff5f5;
    border: 1px solid #dc3545;
    padding: 16px;
    border-radius: 6px;
    display: flex;
    flex-direction: column;
    align-items: start;
    box-shadow: 0 3px 6px rgba(0,0,0,0.1);
  }

  .pdf-link-layer p {
    margin: 0 0 10px 0;
    color: #dc3545;
    font-weight: 600;
  }

  .pdf-link-layer input[type="text"] {
    width: 100%;
    padding: 8px;
    border-radius: 4px;
    border: 1px solid #ccc;
    font-size: 14px;
    margin-bottom: 10px;
  }
</style>
<!-- üîª BARRA SUPERIOR -->
dame todo el codigo htlm 
<!-- üîª BARRA SUPERIOR -->
<div class="toolbar">
  <img src="assets/CMR.jpg" alt="Logo CMR" style="cursor:pointer" routerLink="/reportes" />
  <button routerLink="/reportes">Generar Reportes</button>
  <button (click)="logout()">Cerrar sesi√≥n</button>
</div>

<div class="form-wrapper">
  <div class="report-form">
    <h2>Generar Reporte</h2>

    <label>T√≠tulo (opcional)</label>
    <input type="text" [(ngModel)]="titulo" name="titulo" placeholder="Ej: Reporte semanal de avances" />

    <label>Descripci√≥n / Trabajo realizado</label>
    <textarea [(ngModel)]="descripcionTrabajo" name="descripcionTrabajo" rows="5" placeholder="Describe aqu√≠ las actividades realizadas..."></textarea>

  <!-- ================= TRABAJADORES ================= -->
  
  <!-- ================= CLIENTES ================= -->
  <div class="clientes-section">
    <div class="trabajadores-section">
    <div class="encargado-reporte">
    <p><strong>Encargado del reporte:</strong></p>
    <p *ngIf="usuarioActual; else sinEncargado">
      {{ usuarioActual.nombre }} ({{ usuarioActual.cargo }})
    </p>
    <ng-template #sinEncargado>
      <em>Encargado de reporte</em>
    </ng-template>
  </div>
  
    <h4>Trabajadores</h4>
    <select multiple [(ngModel)]="trabajadoresSeleccionadosIds" name="trabajadoresSeleccionadosIds">
      <option *ngFor="let t of usuariosDisponiblesFiltrados" [ngValue]="t.id">
        {{ t.nombre }} ({{ t.cargo }})
      </option>
    </select>
    <button class="add-worker-button" (click)="agregarTrabajadoresSeleccionados()">A√±adir trabajadores</button>

    <div class="trabajadores-seleccionados" *ngIf="trabajadoresSeleccionados.length > 0">
      <p><strong>Seleccionados:</strong></p>
      <ul>
        <li *ngFor="let t of trabajadoresSeleccionados">
          {{ t.nombre }} ‚Äî {{ t.cargo }}
          <button class="remove-worker-button" (click)="eliminarTrabajador(trabajadoresSeleccionados.indexOf(t))">‚úï</button>
        </li>
      </ul>
    </div>
  </div>
<!-- ========================================================== -->
<!-- üèóÔ∏è SECCI√ìN: Tipo de Operaci√≥n y Actividades -->
<!-- ========================================================== -->
<!-- Tipo de operaci√≥n: l√≠nea compacta -->
<!-- Tipo de operaci√≥n sin estilos feos -->
  <select [(ngModel)]="tipoOperacionSeleccionadaId" name="tipoOperacionSeleccionadaId" (change)="cargarActividades()">
    <option [ngValue]="null" disabled selected>Selecciona tipo de operaci√≥n</option>
    <option *ngFor="let tipo of tiposOperacion" [ngValue]="tipo.idTipoOperacion">
      {{ tipo.nombre }}
    </option>
  </select>

<!-- Actividades: cuadro m√°s alto -->
<h4>Actividades</h4>
<div class="dropdown-container">
  <select class="select-actividades" multiple [(ngModel)]="actividadesSeleccionadasIds" name="actividadesSeleccionadasIds">
    <option *ngFor="let a of actividadesDisponibles" [ngValue]="a.idActividad">
      {{ a.descripcion }}
    </option>
  </select>
</div>

<button class="add-client-button" (click)="agregarActividadesSeleccionadas()">A√±adir actividades</button>

<div class="actividades-seleccionadas" *ngIf="actividadesSeleccionadas.length > 0">
  <p><strong>Seleccionadas:</strong></p>
  <ul>
    <li *ngFor="let a of actividadesSeleccionadas">
      {{ a.descripcion }}
      <button class="remove-client-button" (click)="eliminarActividad(actividadesSeleccionadas.indexOf(a))">‚úï</button>
    </li>
  </ul>
</div>

    <h4>Clientes</h4>
    <select multiple [(ngModel)]="clientesSeleccionadosIds" name="clientesSeleccionadosIds">
      <option *ngFor="let c of clientesDisponibles" [ngValue]="c.id">
        {{ c.nombre }}
      </option>
    </select>
    <button class="add-client-button" (click)="agregarClientesSeleccionados()">A√±adir clientes</button>

    <div class="clientes-seleccionados" *ngIf="clientesSeleccionados.length > 0">
      <p><strong>Seleccionados:</strong></p>
      <ul>
        <li *ngFor="let c of clientesSeleccionados">
          {{ c.nombre }}
          <button class="remove-client-button" (click)="eliminarCliente(clientesSeleccionados.indexOf(c))">‚úï</button>
        </li>
      </ul>
    </div>
  </div>

    <label>Im√°genes (m√∫ltiple, m√°x. 50)</label>
    <input type="file" multiple accept="image/*" (change)="onImagenesSeleccionadas($event)" />

    <label>Firma</label>
    <canvas
      #canvas
      width="600"
      height="200"
      style="border:1px solid #ccc; touch-action: none;"
      (mousedown)="iniciarDibujo($event)"
      (mousemove)="dibujar($event)"
      (mouseup)="detenerDibujo()"
      (mouseleave)="detenerDibujo()"
      (touchstart)="iniciarDibujo($event)"
      (touchmove)="dibujar($event)"
      (touchend)="detenerDibujo()"
    ></canvas>
<p class="firma-aviso">
    ‚ö†Ô∏è <strong>Esta firma solo valida el registro o entrega del reporte t√©cnico y no puede ser utilizada para otros fines que puedan perjudicar a la persona.</strong>
  </p>
    <div class="signature-buttons">
      <button (click)="limpiarFirma()">Limpiar firma</button>
      <button (click)="guardarFirma()">Guardar firma (previsualizar)</button>
    </div>
<div class="report-btns-container">
  <button class="btn-verify" (click)="abrirVerificacion()">
    Verificaci√≥n del cliente
  </button>
  <button class="btn-generate" [disabled]="!verificado" (click)="generarReporte()">
    Generar reporte
  </button>
  
</div>





    <div class="pdf-link-layer" *ngIf="urlPdf">
      <p>‚úÖ √öltimo reporte generado:</p>
      <input type="text" [value]="urlPdf" readonly #pdfLink />
      <div style="display:flex; gap:10px; flex-wrap:wrap;">
        <button (click)="copiarEnlace(pdfLink)">Copiar enlace</button>
        <a [href]="urlPdf" target="_blank">Abrir PDF</a>
      </div>
    </div>
  </div>

  <!-- ================= ENCARGADO ================= -->
  
</div>
<!-- üîπ PANEL DE VERIFICACI√ìN -->
<div class="verificacion-panel" *ngIf="mostrarVerificacion">
  <div class="panel-content">
    <h2>Verificaci√≥n del Cliente</h2>
<h3>Trabajadores</h3>
<ul>
  <li *ngFor="let t of trabajadoresSeleccionados">
    <strong>{{ t.nombre }}</strong> ‚Äî {{ t.cargo }}
  </li>
</ul>

<!-- Usuario actual -->
<p *ngIf="usuarioActual; else sinEncargado">
  <strong>Encargado del reporte:</strong> {{ usuarioActual.nombre }} ({{ usuarioActual.cargo }})
</p>
<ng-template #sinEncargado>
  <p><em>Encargado de reporte no asignado</em></p>
</ng-template>

    <h3>Actividades</h3>
<ul>
  <!-- Primero la descripci√≥n -->
  <li *ngIf="descripcionTrabajo">{{ descripcionTrabajo }}</li>

  <!-- Luego las actividades seleccionadas -->
  <li *ngFor="let a of actividadesSeleccionadas">
    {{ a.descripcion }}
  </li>
</ul>

  <div *ngIf="imagenes && imagenes.length > 0">
  <h3>Im√°genes subidas</h3>
  <p>Se han subido {{ imagenes.length }} im√°genes del trabajo realizado.  
  El t√©cnico puede mostrarlas si es necesario.</p>
</div>

   <label class="supervisor-label">Nombre del supervisor</label>
<input type="text" class="supervisor-input" [(ngModel)]="nombreSupervisor" placeholder="Nombre completo" />

<!-- Supervisor: canvas y controles -->
<div class="supervisor-section">
  <label><strong>Firma del supervisor / responsable</strong></label>
  <canvas
    #canvasSupervisor
    width="600"
    height="200"
    style="border:1px solid #ccc; touch-action: none;"
    (mousedown)="iniciarDibujoSupervisor($event)"
    (mousemove)="dibujarSupervisor($event)"
    (mouseup)="detenerDibujoSupervisor()"
    (mouseleave)="detenerDibujoSupervisor()"
    (touchstart)="iniciarDibujoSupervisor($event)"
    (touchmove)="dibujarSupervisor($event)"
    (touchend)="detenerDibujoSupervisor()"
  ></canvas>
  <p class="firma-aviso">
    ‚ö†Ô∏è <strong>Esta firma solo valida el registro o entrega del reporte t√©cnico y no puede ser utilizada para otros fines que puedan perjudicar a la persona.</strong>
  </p>
<!--Aqui quiero un mensaje letras pequeas negritas con un simbolo de ! "esta firma solo avala el registro de un reporte tecnico" --> 
  <div class="signature-buttons">
    <button type="button" (click)="limpiarFirmaSupervisor()">Limpiar</button>
    <button type="button" (click)="guardarFirmaSupervisor()">Guardar firma supervisor</button>
  </div>


    <div class="panel-actions">
      <button (click)="aprobarVerificacion()">Supervisado o aprobado</button>
      <button class="cancel" (click)="cerrarVerificacion()">Cancelar</button>
    </div>
  </div>
</div>
